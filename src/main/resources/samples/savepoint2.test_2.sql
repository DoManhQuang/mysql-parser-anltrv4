-- savepoint2.test
-- 
-- execsql {
--     PRAGMA cache_size=10;
--     BEGIN;
--     CREATE TABLE t3(x TEXT);
--     INSERT INTO t3 VALUES(randstr(10,400));
--     INSERT INTO t3 VALUES(randstr(10,400));
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     INSERT INTO t3 SELECT randstr(10,400) FROM t3;
--     COMMIT;
--     SELECT count(*) FROM t3;
-- }
PRAGMA cache_size=10;
BEGIN;
CREATE TABLE t3(x TEXT);
INSERT INTO t3 VALUES(randstr(10,400));
INSERT INTO t3 VALUES(randstr(10,400));
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
INSERT INTO t3 SELECT randstr(10,400) FROM t3;
COMMIT;
SELECT count(*) FROM t3;