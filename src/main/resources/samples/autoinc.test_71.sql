-- autoinc.test
-- 
-- db eval {
--       CREATE TABLE t3928b(x);
--       INSERT INTO t3928b VALUES(100);
--       INSERT INTO t3928b VALUES(200);
--       INSERT INTO t3928b VALUES(300);
--       DELETE FROM t3928;
--       CREATE TABLE t3928c(y INTEGER PRIMARY KEY AUTOINCREMENT, z);
--       CREATE TRIGGER t3928br1 BEFORE DELETE ON t3928b BEGIN
--         INSERT INTO t3928(b) VALUES('before-del-'||old.x);
--         INSERT INTO t3928c(z) VALUES('before-del-'||old.x);
--       END;
--       CREATE TRIGGER t3928br2 AFTER DELETE ON t3928b BEGIN
--         INSERT INTO t3928(b) VALUES('after-del-'||old.x);
--         INSERT INTO t3928c(z) VALUES('after-del-'||old.x);
--       END;
--       DELETE FROM t3928b;
--       SELECT * FROM t3928 ORDER BY a;
-- }
CREATE TABLE t3928b(x);
INSERT INTO t3928b VALUES(100);
INSERT INTO t3928b VALUES(200);
INSERT INTO t3928b VALUES(300);
DELETE FROM t3928;
CREATE TABLE t3928c(y INTEGER PRIMARY KEY AUTOINCREMENT, z);
CREATE TRIGGER t3928br1 BEFORE DELETE ON t3928b BEGIN
INSERT INTO t3928(b) VALUES('before-del-'||old.x);
INSERT INTO t3928c(z) VALUES('before-del-'||old.x);
END;
CREATE TRIGGER t3928br2 AFTER DELETE ON t3928b BEGIN
INSERT INTO t3928(b) VALUES('after-del-'||old.x);
INSERT INTO t3928c(z) VALUES('after-del-'||old.x);
END;
DELETE FROM t3928b;
SELECT * FROM t3928 ORDER BY a;